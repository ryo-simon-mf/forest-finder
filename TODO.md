# TODO - Forest Finder

## Phase 1: 環境構築 🔧

- [ ] Next.jsプロジェクト初期化
- [ ] TypeScript設定
- [ ] Tailwind CSS導入
- [ ] ESLint/Prettier設定
- [ ] ディレクトリ構造作成

## Phase 2: PWA基盤構築 📱

- [ ] next-pwa パッケージ導入
- [ ] manifest.json 作成
- [ ] Service Worker 設定
- [ ] PWAアイコン作成（192x192, 512x512）
- [ ] iOS Safari用メタタグ追加
- [ ] スプラッシュスクリーン設定

## Phase 3: GPS機能実装 📍

- [ ] Geolocation APIのカスタムフック作成 (`useGeolocation`)
- [ ] 位置情報取得エラーハンドリング
- [ ] 位置情報の継続的な更新機能
- [ ] 位置情報許可のUI実装
- [ ] iOS/Android両方での動作確認

## Phase 4: 地図表示 🗺️

- [ ] Leaflet / React-Leaflet導入
- [ ] 基本地図コンポーネント作成
- [ ] 現在地マーカー表示
- [ ] 国土地理院タイルの設定
- [ ] タッチ操作の最適化（モバイル向け）

## Phase 5: 森林データ取得 🌳

- [ ] 国土地理院APIの調査・選定
- [ ] 森林データ取得サービス作成
- [ ] 森林ポリゴンデータのパース
- [ ] 近隣森林のフィルタリングロジック
- [ ] データキャッシュ（オフライン対応）

## Phase 6: 距離計算 📏

- [ ] 緯度経度から距離計算するユーティリティ作成
- [ ] 最寄り森林の検出アルゴリズム
- [ ] km/m単位の自動切り替え表示
- [ ] 複数の森林への距離表示

## Phase 7: UI/UX改善 ✨

- [ ] モバイルファーストのレスポンシブデザイン
- [ ] ローディング状態の表示
- [ ] エラー時のフォールバックUI
- [ ] ダークモード対応
- [ ] タッチ操作の最適化

## Phase 8: オフライン対応 📴

- [ ] Service Worker によるキャッシュ戦略
- [ ] オフライン時のフォールバック画面
- [ ] 前回取得データの表示
- [ ] ネットワーク復帰時の自動更新

## Phase 9: テスト・最適化 🧪

- [ ] ユニットテスト作成
- [ ] E2Eテスト作成
- [ ] Lighthouse スコア改善
- [ ] パフォーマンス最適化
- [ ] 実機テスト（iPhone / Android）

## Phase 10: デプロイ 🚀

- [ ] Vercelへのデプロイ設定
- [ ] HTTPS設定確認
- [ ] 本番環境の動作確認
- [ ] PWAインストールテスト
- [ ] ドキュメント整備

---

## 進捗管理

| Phase | 内容 | ステータス | 完了日 |
|-------|------|-----------|--------|
| 1 | 環境構築 | 未着手 | - |
| 2 | PWA基盤 | 未着手 | - |
| 3 | GPS機能 | 未着手 | - |
| 4 | 地図表示 | 未着手 | - |
| 5 | 森林データ | 未着手 | - |
| 6 | 距離計算 | 未着手 | - |
| 7 | UI/UX | 未着手 | - |
| 8 | オフライン | 未着手 | - |
| 9 | テスト | 未着手 | - |
| 10 | デプロイ | 未着手 | - |
